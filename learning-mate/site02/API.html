<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API 연결 연습</title>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <script>
        // $.ajax({
        //     method: "GET",
        //     url: "http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json",
        //     data: { key: '320f8f68d0d2abec2b55b1b8cc29e035', targetDt: '20230713' }
        // })
        //     .done(function (data) {
        //         console.log(data)
        //         console.log(data.boxOfficeResult.dailyBoxOfficeList)
        //         const movieList = data.boxOfficeResult.dailyBoxOfficeList;
        //         const ul = document.querySelector('ul');
        //         movieList.forEach((movie) => {
        //             const li = document.createElement('li');
        //             li.innerHTML = `<strong>${movie.rank}위:</strong> ${movie.movieNm}`;
        //             ul.append(li);
        //         })
        //     });
        const options = {
            method: "GET",
            headers: {
                accept: "application/json",
                // Authorization:
                // 인증키  546267675579656f34364f7a526d42
            },
        };
        fetch(
            "http://openAPI.seoul.go.kr:8088/546267675579656f34364f7a526d42/json/SJWPerform/1/10",
            options
        )
            .then((response) => response.json())
            .then((response) => {
                console.log(response)
                const body = document.querySelector('body')
                console.log(response.SJWPerform.row)
                const list = response.SJWPerform.row
                let url = list[0]['FILE_URL_MI']
                console.log(url)
                const img = document.createElement('img')
                img.src = url
                body.append(img)
            })
            .catch((err) => console.error(err));
    </script>
</head>

<body>
    <ul></ul>
</body>

</html>